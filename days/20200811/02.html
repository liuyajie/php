<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery实现JSONP</title>
</head>
<body>
<div id="mydiv">
    <button id="btn">点击</button>
</div>
</body>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){



        // function handleResponse(response){
        //     // 对response数据进行操作代码
        //     //console.log(response);
        //     alert(222);
        // }


        $("#btn").click(function(){


            $.ajax({
                async : true,
                url : "http://localhost/20200811/01.php",
                type : "GET",
                dataType : "jsonp", // 返回的数据类型，设置为JSONP方式
                 jsonp : 'callback', //指定一个查询参数名称来覆盖默认的 jsonp 回调参数名 callback
                jsonpCallback:'handleResponse', //设置回调函数名
                data : {
                    q : "javascript",
                    count : 1
                },
                contentType: "application/json;utf-8",
                success: function(response, status, xhr){
                    console.log(333);
                },
                handleResponse: function(response, status, xhr){
                    console.log(222);
                }
            });
        });
    });

</script>
</html>
